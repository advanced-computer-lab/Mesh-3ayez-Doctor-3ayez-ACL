{"version":3,"file":"index.es.js","sources":["../src/SeatPicker/RowNumber.js","../src/SeatPicker/Row.js","../src/SeatPicker/Seat.js","../src/SeatPicker/Blank.js","../src/SeatPicker/SeatPicker.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class RowNumber extends Component {\n  static propTypes = {\n    rowNumber: PropTypes.string,\n    visible: PropTypes.bool,\n  };\n\n  render() {\n    return this.props.visible ? (\n      <div className=\"seat-picker__row__number\">{this.props.rowNumber}</div>\n    ) : null;\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport RowNumber from \"./RowNumber\";\n\nexport default class Row extends Component {\n  static propTypes = {\n    rowNumber: PropTypes.string,\n    visible: PropTypes.bool,\n    isSelected: PropTypes.bool,\n    children: PropTypes.array,\n  };\n\n  render() {\n    const { visible, rowNumber, isSelected } = this.props;\n    const className =\n      \"seat-picker__row\" +\n      (isSelected\n        ? \" seat-picker__row--selected\"\n        : \" seat-picker__row--enabled\");\n    return (\n      <div className={className}>\n        <RowNumber rowNumber={rowNumber} visible={visible} />\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ReactTooltip from \"react-tooltip\";\n\nexport default class Seat extends Component {\n  static defaultProps = {\n    isSelected: false,\n  };\n\n  handleClick = () => {\n    !this.props.isReserved && this.props.selectSeat();\n  };\n\n  render() {\n    const {\n      isSelected,\n      tooltip,\n      isEnabled,\n      isReserved,\n      orientation,\n    } = this.props;\n    const className =\n      \"seat\" +\n      (isSelected ? \" seat--selected\" : \"\") +\n      (!isSelected && isEnabled && !isReserved ? \" seat--enabled\" : \"\") +\n      (isReserved ? \" seat--reserved\" : \"\") +\n      ` seat--${!orientation ? \"north\" : orientation}`;\n    return (\n      <div data-tip={tooltip} className={className} onClick={this.handleClick}>\n        {tooltip ? <ReactTooltip {...this.props.tooltipProps} /> : null}\n        <span className=\"seat__number\">{this.props.seatNumber}</span>\n      </div>\n    );\n  }\n}\n\nSeat.propTypes = {\n  isSelected: PropTypes.bool,\n  isReserved: PropTypes.bool,\n  tooltip: PropTypes.string,\n  isEnabled: PropTypes.bool,\n  orientation: PropTypes.oneOf([\"north\", \"south\", \"east\", \"west\"]),\n  seatNumber: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  selectSeat: PropTypes.func.isRequired,\n  tooltipProps: PropTypes.object,\n};\n","import React, { Component } from \"react\";\n\nexport default class Blank extends Component {\n  render() {\n    return <div className=\"blank\" />;\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Row from \"./Row\";\nimport Seat from \"./Seat\";\nimport Blank from \"./Blank\";\n\nexport class SeatPicker extends Component {\n  static defaultProps = {\n    addSeatCallback: ({ row, number, id }, addCb) => {\n      console.log(`Added seat ${number}, row ${row}, id ${id}`);\n      addCb(row, number, id);\n    },\n    removeSeatCallback: ({ row, number, id }, removeCb) => {\n      console.log(`Removed seat ${number}, row ${row}, id ${id}`);\n      removeCb(row, number);\n    },\n    maxReservableSeats: 0,\n  };\n\n  constructor(props) {\n    super(props);\n    const { rows } = props;\n    const { selectedSeats, size } = this.getAlreadySelectedSeats();\n    this.state = {\n      tooltipOverrides: {},\n      selectedSeats: selectedSeats,\n      size: size,\n      rowLength: Math.max.apply(\n        null,\n        rows.map(row => row.length)\n      ),\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.maxReservableSeats < state.size) {\n      let sum = 0;\n      const selectedSeats = {};\n      for (const array in state.selectedSeats) {\n        if (\n          sum + state.selectedSeats[array].length <\n          props.maxReservableSeats\n        ) {\n          selectedSeats[array] = state.selectedSeats[array].slice(0);\n        } else {\n          const dif = props.maxReservableSeats - sum;\n          selectedSeats[array] = state.selectedSeats[array].slice(0, dif);\n          return {\n            selectedSeats: selectedSeats,\n            size: props.maxReservableSeats,\n          };\n        }\n        sum = sum + state.selectedSeats[array].length;\n      }\n    }\n    return null;\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      nextState.selectedSeats !== this.state.selectedSeats ||\n      this.props.loading !== nextProps.loading\n    );\n  }\n\n  getAlreadySelectedSeats = () => {\n    let selectedSeats = {};\n    let size = 0;\n    const { maxReservableSeats, alpha, selectedByDefault } = this.props;\n    if (selectedByDefault) {\n      this.props.rows.forEach((row, index) => {\n        const rowNumber = alpha\n          ? String.fromCharCode(\"A\".charCodeAt(0) + index)\n          : (index + 1).toString();\n        row.forEach((seat, index) => {\n          if (seat && seat.isSelected) {\n            const seatAlreadySelected = this.includeSeat(\n              selectedSeats,\n              rowNumber,\n              seat.number\n            );\n            if (size < maxReservableSeats && !seatAlreadySelected) {\n              selectedSeats = this.addSeat(\n                selectedSeats,\n                rowNumber,\n                seat.number,\n                seat.id\n              );\n              size = size + 1;\n            }\n          }\n        });\n      });\n    }\n    return { selectedSeats, size };\n  };\n\n  includeSeat = (selectedSeats, row, number) => {\n    if (selectedSeats[row]) {\n      return !!selectedSeats[row][number];\n    }\n    return false;\n  };\n\n  addSeat = (selectedSeats, row, number, id) => {\n    if (selectedSeats[row]) {\n      if (!selectedSeats[row][number]) {\n        selectedSeats[row][number] = id;\n      }\n    } else {\n      selectedSeats[row] = {};\n      selectedSeats[row][number] = id;\n    }\n    return { ...selectedSeats };\n  };\n\n  deleteSeat = (row, number) => {\n    const { selectedSeats } = this.state;\n    if (selectedSeats[row]) {\n      delete selectedSeats[row][number];\n      if (!Object.keys(selectedSeats[row]).length > 0) {\n        delete selectedSeats[row];\n      }\n    }\n    return { ...selectedSeats };\n  };\n\n  addTooltip = (tooltipOverrides, row, number, tooltip) => {\n    if (!tooltipOverrides[row]) {\n      tooltipOverrides[row] = {};\n    }\n    tooltipOverrides[row][number] = tooltip;\n    return { ...tooltipOverrides };\n  };\n\n  acceptSelection = (row, number, id, tooltip) => {\n    const { selectedSeats, tooltipOverrides, size } = this.state;\n    const { maxReservableSeats } = this.props;\n    if (size < maxReservableSeats) {\n      this.setState({\n        tooltipOverrides: this.addTooltip(\n          tooltipOverrides,\n          row,\n          number,\n          tooltip\n        ),\n        selectedSeats: this.addSeat(selectedSeats, row, number, id),\n        size: size + 1,\n      });\n    }\n  };\n\n  acceptDeselection = (row, number, tooltip) => {\n    const { size, tooltipOverrides } = this.state;\n    this.setState({\n      tooltipOverrides: this.addTooltip(tooltipOverrides, row, number, tooltip),\n      selectedSeats: this.deleteSeat(row, number),\n      size: size - 1,\n    });\n  };\n\n  selectSeat = (row, number, id) => {\n    const { selectedSeats } = this.state;\n    const size = this.state.size;\n    const {\n      maxReservableSeats,\n      addSeatCallback,\n      removeSeatCallback,\n      continuous,\n    } = this.props;\n    const seatAlreadySelected = this.includeSeat(selectedSeats, row, number);\n\n    if (seatAlreadySelected) {\n      removeSeatCallback({ row, number, id }, this.acceptDeselection);\n    } else {\n      if (size < maxReservableSeats) {\n        addSeatCallback({ row, number, id }, this.acceptSelection);\n      } else if (continuous) {\n        const auxRow = Object.keys(selectedSeats)[0];\n        const auxNumber = Object.keys(selectedSeats[auxRow])[0];\n        addSeatCallback(\n          { row, number, id },\n          this.acceptSelection,\n          {\n            row: auxRow,\n            number: auxNumber,\n            id: selectedSeats[auxRow][auxNumber],\n          },\n          this.acceptDeselection\n        );\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"seat-content\">\n        <div className={this.props.loading ? \"loader\" : null} />\n        <div className=\"seat-picker\">{this.renderRows()}</div>\n      </div>\n    );\n  }\n\n  renderRows() {\n    const { selectedSeats: seats } = this.state;\n    const { alpha, visible } = this.props;\n    return this.props.rows.map((row, index) => {\n      const rowNumber = alpha\n        ? String.fromCharCode(\"A\".charCodeAt(0) + index)\n        : (index + 1).toString();\n      const isSelected = !!seats[rowNumber];\n      const props = {\n        visible,\n        rowNumber,\n        isSelected,\n        selectedSeat: null,\n        seats: row,\n        // key: `Row${rowNumber}`,\n        selectSeat: this.selectSeat,\n      };\n\n      return (\n        <Row key={index} {...props}>\n          {this.renderSeats(row, rowNumber, isSelected)}{\" \"}\n        </Row>\n      );\n    });\n  }\n\n  renderSeats(seats, rowNumber, isRowSelected) {\n    const { selectedSeats, size, rowLength, tooltipOverrides } = this.state;\n    const { maxReservableSeats, continuous } = this.props;\n    const blanks = new Array(\n      rowLength - seats.length > 0 ? rowLength - seats.length : 0\n    ).fill(0);\n    const row = seats.map((seat, index) => {\n      if (seat === null) return <Blank key={index} />;\n      const isSelected =\n        isRowSelected &&\n        this.includeSeat(selectedSeats, rowNumber, seat.number);\n      let tooltip = seat.tooltip;\n      if (\n        tooltipOverrides[rowNumber] &&\n        tooltipOverrides[rowNumber][seat.number] != null\n      ) {\n        tooltip = tooltipOverrides[rowNumber][seat.number];\n      }\n      const props = {\n        isSelected,\n        orientation: seat.orientation,\n        isReserved: seat.isReserved,\n        tooltip,\n        isEnabled: size < maxReservableSeats || continuous,\n        selectSeat: this.selectSeat.bind(this, rowNumber, seat.number, seat.id),\n        seatNumber: seat.number,\n        tooltipProps: this.props.tooltipProps,\n      };\n      return <Seat key={index} {...props} />;\n    });\n    if (blanks.length > 0) {\n      blanks.forEach((blank, index) => {\n        row.push(<Blank key={row.length + index + 1} />);\n      });\n    }\n    return row;\n  }\n}\n\nSeatPicker.propTypes = {\n  addSeatCallback: PropTypes.func,\n  alpha: PropTypes.bool,\n  visible: PropTypes.bool,\n  continuous: PropTypes.bool,\n  selectedByDefault: PropTypes.bool,\n  removeSeatCallback: PropTypes.func,\n  maxReservableSeats: PropTypes.number,\n  rows: PropTypes.arrayOf(\n    PropTypes.arrayOf(\n      PropTypes.shape({\n        number: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        isReserved: PropTypes.bool,\n        tooltip: PropTypes.string,\n        isSelected: PropTypes.bool,\n      })\n    )\n  ).isRequired,\n  tooltipProps: PropTypes.object,\n  loading: PropTypes.bool,\n};\n"],"names":["RowNumber","props","visible","rowNumber","Component","PropTypes","string","bool","Row","isSelected","className","children","array","Seat","isReserved","selectSeat","tooltip","isEnabled","orientation","handleClick","tooltipProps","seatNumber","propTypes","oneOf","oneOfType","number","func","isRequired","object","Blank","SeatPicker","selectedSeats","size","maxReservableSeats","alpha","selectedByDefault","rows","forEach","row","index","String","fromCharCode","charCodeAt","toString","seat","seatAlreadySelected","includeSeat","addSeat","id","state","Object","keys","length","tooltipOverrides","setState","addTooltip","deleteSeat","addSeatCallback","removeSeatCallback","continuous","acceptDeselection","acceptSelection","auxRow","auxNumber","getAlreadySelectedSeats","rowLength","Math","max","apply","map","nextProps","nextState","loading","renderRows","seats","selectedSeat","renderSeats","isRowSelected","blanks","Array","fill","bind","blank","push","sum","slice","dif","addCb","console","log","removeCb","arrayOf","shape"],"mappings":"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"}